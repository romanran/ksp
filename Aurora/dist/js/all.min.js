"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),dom=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"getElements",value:function(){var e={canvas_wrap:{selector:"[charts]"}};return e}},{key:"cache",value:function(){var e=this.getElements();_.each(e,this.append.bind(this))}},{key:"append",value:function(e,n){var t=this;void 0===this["$"+n]&&(e.selector.indexOf("[")>=0?(e.selector=e.selector.replace("[","[data-"),this["$"+n]=$(e.selector)):this["$"+n]=$(e.selector)),e.children&&_.each(e.children,function(e,n){void 0===t["$"+n]&&(e.indexOf("[")>=0?(e=e.replace("[","[data-"),t["$"+n]=$(e)):t["$"+n]=$(e))})}}]),e}();_TD.prototype.documentReady=function(){var e=this;this.dom=new dom,this.dom.cache(),this.journal1=new Journal("journal_Sat-1.json"),this.journal1.q.then(function(){e.createCharts()})},$(function(){var e=new _TD;return e.documentReady(),window.TD=e}),function(){var e=function e(){_classCallCheck(this,e),this.is_local="localhost"==window.location.hostname,this.breakpoints={full_hd:1919,tablet:1199,large:1023,archaic:991,smart:767,phone:464,phones:419,phonexs:374},this.dom_loaded=!1,this.regx={email:new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")}};return window._TD=e}(),function(){function e(){("localhost"==window.location.hostname||window.location.href.indexOf("dev")>0)&&console.log.apply(console,arguments)}return window.deb=e}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};_TD.prototype.createCharts=function(){var e=$("<canvas></canvas>");this.dom.$canvas_wrap.append(e);var n=[],t=[],r=[],o=[];for(var a in this.journal1.entries)0!=a&&(n.push(this.journal1.entries[a].MISSIONTIME),t.push(this.journal1.entries[a].ALT),r.push(this.journal1.entries[a].SURV),o.push(this.journal1.entries[a].VERTICALSPEED));new Chart(e,this.getType("bar",n,this.journal1.entries))},_TD.prototype.getType=function(e,n,t){var r=[],o=[];deb(t.length);var a=t.length,i=0;return _.each(t,function(e,n){var t=0,r=e.length;_.each(e,function(e,n){t++,"object"!=("undefined"==typeof e?"undefined":_typeof(e))&&(o[n]?o[n].push(e):(o[n]=[],i++))}),t==r&&(i++,deb("obj end")),i==a&&deb("finish end")}),_.each(o,function(e,n){i++,r.push({label:n,fill:!1,data:e,borderColor:[Tools.strToColor(n)],borderWidth:1})}),0};var _createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Journal=function(){function e(n){_classCallCheck(this,e),this.readJSON(n),this.entries=[],this.q=$.Deferred()}return _createClass(e,[{key:"readJSON",value:function(e){$.getJSON("flightlogs/"+e,this.parseJSON.bind(this))}},{key:"parseJSON",value:function(e){var n=this,t=_.filter(e.entries,function(e,n){return n%2==1});_.each(t,function(e,t){e.entries&&n.crawlObject(e.entries,!1)}),this.q.resolve()}},{key:"crawlObject",value:function(e,n){var t=this,r={};return _.each(e,function(n,o){o%2&&(n.entries?r[e[o-1]]=t.crawlObject(n.entries,!0):r[e[o-1]]=n)}),n?r:void this.entries.push(r)}},{key:"getData",get:function(){return this.entries}}]),e}(),_createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}(),Tools=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"hashCode",value:function(e){for(var n=0,t=0;t<e.length;t++)n=e.charCodeAt(t)+((n<<5)-n);return n}},{key:"intToRGB",value:function(e){var n=(16777215&e).toString(16).toUpperCase();return"00000".substring(0,6-n.length)+n}},{key:"strToColor",value:function(e){var n=this.hashCode(e);return this.intToRGB(n)}}]),e}();