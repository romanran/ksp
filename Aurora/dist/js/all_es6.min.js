class _TD{constructor(){this.is_local=window.location.hostname=="localhost"?true:false;this.breakpoints={full_hd:1920-1,tablet:1200-1,large:1024-1,archaic:992-1,smart:768-1,phone:465-1,phones:420-1,phonexs:375-1};this.dom_loaded=false;this.regx={email:new RegExp("^[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$")}}};(function(){function platform(){this.isMobile={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)}};var _p=this;this.isMobile.rest=function(){return(_p.isMobile.BlackBerry()||_p.isMobile.Opera()||_p.isMobile.Windows())||false};if(this.isMobile.rest()||this.isMobile.iOS()||this.isMobile.Android()){return true}else{return false}}function deb(s){if(window.location.hostname=="localhost"||window.location.href.indexOf("dev")>0){console.log(s)}}return window.deb=deb})();_TD.prototype.createCharts=function(){let $new_canvas=$('<canvas></canvas>');this.dom.$canvas_wrap.append($new_canvas);new Chart($new_canvas,this.getType('bar'))};_TD.prototype.getType=function(type){switch(type){case 'bar':return{type:'bar',data:{labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:'',data:'',backgroundColor:['rgba(255, 99, 132, 0.2)','rgba(54, 162, 235, 0.2)','rgba(255, 206, 86, 0.2)','rgba(75, 192, 192, 0.2)','rgba(153, 102, 255, 0.2)','rgba(255, 159, 64, 0.2)'],borderColor:['rgba(255,99,132,1)','rgba(54, 162, 235, 1)','rgba(255, 206, 86, 1)','rgba(75, 192, 192, 1)','rgba(153, 102, 255, 1)','rgba(255, 159, 64, 1)'],borderWidth:1}]},options:{scales:{yAxes:[{ticks:{beginAtZero:true}}]}}};break}};class Journal{constructor(path){this.readJSON(path);this.entries=[]}get getData(){return this.entries}readJSON(path){$.getJSON("flightlogs/"+path,this.parseJSON.bind(this))}parseJSON(data){let filtered_data=_.filter(data.entries,(item,i)=>{return i%2==1});_.each(filtered_data,(item,i)=>{if(item.entries){this.crawlObject(item.entries,false)}})}crawlObject(src_obj,nested){let obj={};_.each(src_obj,(item,i)=>{if(i%2){if(item.entries){obj[src_obj[i-1]]=this.crawlObject(item.entries,true)}else{obj[src_obj[i-1]]=item}}});if(nested){return obj}else{this.entries.push(obj)}}}class dom{constructor(){}getElements(){let elements={canvas_wrap:{selector:"[charts]"}};return elements}cache(){let els=this.getElements();_.each(els,this.append.bind(this))}append(val,key){if(this['$'+key]===undefined){this['$'+key]=$(val.selector)}if(val.children){_.each(val.children,(val,key)=>{if(this['$'+key]===undefined){console.log(val);if(val.indexOf('[')>=0){val=val.replace('[','[data-');this['$'+key]=$(val)}else{this['$'+key]=$(val)}}})}}}_TD.prototype.documentReady=function(){this.dom=new dom();this.dom.cache();this.journal1=new Journal("journal_Sat-1.json")};$(function(){let TD=new _TD();TD.documentReady();return window.TD=TD});